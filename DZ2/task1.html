<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Урок 2 Задание 1</title>
</head>
<body>
<h1>Урок 2 Задание 1 </h1>
<p>Добавьте пустые классы для корзины товаров и элемента корзины товаров. Продумайте, какие методы понадобятся для
    работы с этими сущностями. - (см. секцию script )</p>

<script>
    class ProductItem { //класс Продукт возьмем из урока 2
        constructor(product, img = 'https://placehold.it/200x150') {
            this.title = product.title;
            this.price = product.price;
            this.id = product.id;
            this.img = img;
        }

        render() {
            return `<div class="product-item" data-id="${this.id}">
                <img src="${this.img}" alt="Some img">
                <div class="desc">
                    <h3>${this.title}</h3>
                    <p>${this.price} \u20bd</p>
                    <button class="buy-btn">Купить</button>
                </div>
            </div>`
        }
    }

    class CartItem extends ProductItem { //класс продукт в корзине
        constructor(id, title, price, img, quantity = 1, subtotal) {
            super(id, title, price, img);   //у клсса-родителя берем базовые параметры
            this.quantity = quantity;       //это количество одного и того же товара.
            this.subtotal = this.price * this.quantity; //стоимость товара = цена умноженная на количество
            this.shipping(); //метод доставка для каждого товара может быть свои расчеты по доставке
            this.render();  //рендеринг diva экзепляра товара  в корзине
        }

        shipping() {
            //TODO:Метот связанный с доставкой конкретного товара, например, возвращает FREE
        }

        render() { // самостоятельный рендер - не от родительского класса
            //TODO:Метод рендеринга экзепляра товара в корзине
        }

    }

    class Cart { //"Набросок" класса Корзина
        constructor(container = ".cart", paymentAddress) {
            this.container = container;
            this.allItems = []; //корзина содержищая CartItem
            this.paymentAddress = paymentAddress; //Адрес доставки
            this.shipping();    //метод расчета доставки товара.
            this.discount();    //метод расчета скидки
            this.grandtotal();  //метод расчета полной стоимости всей корзины товаров (с количсетвом, скидками и доставкой)
                                // с учетом CartItem.subtotal и discount() и shipping();
            this.checkout();    //метод Вызов оплаты корзины
            this.render();      //рендеринг страницы корзины со всеми экзеплярами товара.
            this.addToCart();   //добавление в корзину
            this.delFromCart();  //удаление из корзины

        }

        shipping() {
        };

        discount() {
        };

        grandtotal() {
        };

        checkout() {
        };

        render() {
        };

        addToCart() {
        };

        delFromCart() {
        };
    }

</script>
</body>
</html>